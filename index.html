<!doctype html>
<html>

<head>
    <title>de100a80kilos</title>
    <meta name="description" content="This is personal fitness progress tracker">
    <meta name="keywords" content="fitness tracker notebook"> 
</head>

<body>
    <div class="navbar">
        <div class="container">
            <a href="#">de100a80kilos</a>
            
            <nav>
                <ul class="primary-nav">
                    <li><a href="#">Instagram</a></li>
                    <li><a href="#">Diario</a></li>
                    <li><a href="#">Fotos</a></li>
                </ul>
            </nav>
        <ul id="container_dates"></ul>
        <script src="./node_modules/axios/dist/axios.min.js"></script>
        <script src="referenceaws.js"></script>
        <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1117.0.min.js"></script>
        <script>
            
            axios.get('https://vdkiwfxfkk.execute-api.us-east-1.amazonaws.com/prod/getitems/de100a80kilosdiario')
                .then (response => {
                    // console.log(response.data)
                    var medata = response.data
                    var arr_dates = []
                    medata.Items.forEach(post => {
                        const unmarshallItem = AWS.DynamoDB.Converter.unmarshall(post)
                        // console.log(unmarshallItem)
                        // console.log(Object.getOwnPropertyNames(unmarshallItem))
                                                
                        const dt = document.createElement('li');
                        var postdate = new Date(unmarshallItem.entrydate).toLocaleDateString("en-US")
                        // Create array for further sorting
                        arr_dates.push(postdate)
                        
                        dt.innerText = postdate
                        // Append to unsorted list:
                        container_dates.appendChild(dt)   
      
                    })
                    // Sort Entry dates
                    console.log(arr_dates)
                    var sorted_arr_dates = arr_dates.sort(function(a, b){
                                                const date1 = new Date(a)
                                                const date2 = new Date(b)
                                                
                                                return date2 - date1;
                                            });
                    console.log(sorted_arr_dates)
                 
                })
            
                
                </script>

        </div>

    </div>
</body>
</html>